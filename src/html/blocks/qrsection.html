<section class="qr-section">
  <div class="ProfileLayout_avatar__U9cVZ">
    <div class="AvatarBlock_AvatarBlock__nRrQw">
      <div class="AvatarBlock_AvatarBlock_preview__ZOy6_">
        <img alt="Avatar" src="/public/img/header/gos-gerb.png" width="100" height="100" decoding="async" data-nimg="future" class="" style="color:transparent" />
      </div>
    </div>
  </div>
  
  <div class="qr-section__container">
    <!-- Кнопка поделиться -->
    <a href="#" class="qr-btn" id="share-btn">Поделиться <i class="fas fa-share-alt"></i></a>
    
    <!-- QR код -->
    <div class="qr-code">
      <img src="/public/img/qr-section/qrcode.png" alt="QR Code">
    </div>

    <!-- Кнопка сохранить -->
    <a href="#" class="qr-btn" id="save-btn">Сохранить <i class="fas fa-download"></i></a>
  </div>
</section>


<script>
  
  document.addEventListener('DOMContentLoaded', function() {
    // Обработчик для кнопки "Сохранить"
    const saveBtn = document.getElementById('save-btn');
    saveBtn.addEventListener('click', function(event) {
      event.preventDefault();  // Отключаем стандартное поведение ссылки
      
      // Создаем ссылку для скачивания файла
      const link = document.createElement('a');
      link.href = '/vcard.vcf';  // Замените на реальный путь к вашему .vcf файлу
      link.download = 'vcard.vcf';  // Имя файла при скачивании
      link.click();  // Программно кликаем по ссылке
    });

    // Обработчик для кнопки "Поделиться"
    const shareBtn = document.getElementById('share-btn');
    shareBtn.addEventListener('click', async function(event) {
      event.preventDefault();  // Отключаем стандартное поведение ссылки

      if (navigator.share) {
        try {
          await navigator.share({
            title: 'https://github.com/Galagenn',
            url: window.location.href,  // Ссылка на текущий сайт
          });
          console.log('Успешно поделились');
        } catch (error) {
          console.error('Ошибка при попытке поделиться', error);
        }
      } else {
        alert('Ваш браузер не поддерживает функцию поделиться.');
      }
    });
  });

</script>